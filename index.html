<html>
  <head>
    <meta charset="UTF-8">
    <title>ðŸ¤‘ Free Web Hosting For Small HTML Files | QuerySite</title>
    <meta name="description" content="Free web hosting for small html files">
    <meta name="keywords" content="Hosting, Data, Free, Website">
    <meta name="author" content="Grayson Campbell">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8328158952155386"
     crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.1.0/pako.min.js"></script>
    <style>
      .FAQ {
        background-color: grey;
        width: 100%;
      }
      body {
        background-color: black;
        font-family: Arial, sans-serif;
        color: white;
      }
      .textb {
        border-left-style: solid;
        border-right-style: none;
        border-top-style: none;
        border-bottom-style: none;
        border-color: blue;
        background-color: linear-gradient(to-right, blue, indigo);
      }
    </style>
  </head>
  <body>
    <h1>Like Hosting, but better!</h1>
    <p>Send simple messages, create simple websites, and do pretty much anything else small with QuerySite! QuerySite converts HTML data into a query string so you can send messages through URLs! Essentially, QuerySite hosts very small websites for free!</p>
    <textarea class="textb" rows=25 cols=100 id="HTML" placeholder="Type your html content here">HTML Content</textarea>
    <br>
    <a id="URL"></a>
    <br>
    <div class="FAQ">
      <h1>FAQ:</h1>
      <h2>How does QuerySite host websites</h2>
      <p>Technically, you are not getting web hosting, but instead, it generates permalinks for metadata by using query strings</p>
      <h2>What is the file size limit?</h2>
      <p>Technically nothing. I would reccomend the URL string doesn't exceed 2000 characters, but usually, there should be no HTML size limit!</p>
      <p></p>
    </div>
    <script>
        const textarea = document.getElementById('HTML');
  const output = document.getElementById('URL');

  textarea.addEventListener('input', () => {
    const input = textarea.value;

    // 1. Compress the input using pako.gzip, returns Uint8Array
    const compressed = pako.gzip(input);
    

    // 2. Convert Uint8Array to binary string for base64 encoding
    function uint8ToString(u8Arr) {
      let str = "";
      for (let i = 0; i < u8Arr.length; i++) {
        str += String.fromCharCode(u8Arr[i]);
      }
      return str;
    }

    const binaryString = uint8ToString(compressed);

    // 3. Base64 encode using btoa
    const base64 = btoa(binaryString);

    const base64url = base64.replace(/\+/g, '-').replace(/\//g, '_').replace(/=+$/, '');

    // Show output
    output.href = "https://QuerySite.github.io/show?data=" + base64url;
    output.textContent = "https://QuerySite.github.io/show?data=" + base64url;
  });

    </script>
  </body>
</html>
